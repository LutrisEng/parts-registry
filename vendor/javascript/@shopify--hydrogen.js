import*as e from"react";import t,{createContext as n,useState as r,useTransition as o,useCallback as a,useMemo as i,useContext as s,useLayoutEffect as c,useEffect as l,useReducer as u,useRef as d,Fragment as m,cloneElement as p}from"react";import{createBrowserHistory as v,createPath as g}from"history";import{print as h}from"graphql";import{yellow as f,red as y,lightBlue as C,green as w,italic as S,gray as E}from"kolorist";import{HelmetData as b,Helmet as P}from"react-helmet-async";import{pathToRegexp as I}from"path-to-regexp";import{parse as L,stringify as A}from"worktop/cookie";import{v4 as F}from"uuid";const T=["request","response"];const x=n(null);function ServerPropsProvider({initialServerProps:e,setServerPropsForRsc:n,children:s}){const[c,l]=r(e);const[u,d]=r({});const[m,p]=o();const v=a(((e,t)=>{p((()=>{d((n=>getNewValue(n,e,t)));n((n=>getNewValue(n,e,t)))}))}),[]);const g=a(((e,t)=>{p((()=>{n((n=>getNewValue(n,e,t)));d({});l((n=>getNewValue(n,e,t)))}))}),[]);const h=a(((e,t)=>getNewValue(c,e,t)),[c]);function getNewValue(e,t,n){let r;r="function"===typeof t?t(e):"string"===typeof t?{[t]:n}:t;if(__DEV__){const e=T.find((e=>e in r));e&&console.warn(`Custom "${e}" property in server state is ignored. Use a different name.`)}return{...e,...r}}const f=i((()=>({pending:m,locationServerProps:c,serverProps:u,setServerProps:v,setLocationServerProps:g,getProposedLocationServerProps:h})),[m,c,u,v,g,h]);return t.createElement(x.Provider,{value:f},s)}const M=n(null);function ShopifyProviderClient({children:e,shopifyConfig:n}){if(!n)throw new Error("The `shopifyConfig` prop should be passed to `ShopifyProvider`");return t.createElement(M.Provider,{value:n},e)}const k=false;const O=Symbol.for("react.context");
/**
 * Isomorphic hook to access context data. It gives access to the current request
 * when running on the server, and returns the provided client fallback in the browser.
 * This can be used in server components (RSC) as a Context/Provider replacement. In client
 * components, it uses the server getter in SSR and the client fallback in the browser.
 * @param serverGetter - A function that gets the current server request and returns any
 * desired request property. It only runs in the server (both in RSC and SSR).
 * @param clientFallback - An optional raw value or a React.Context to be consumed that will be
 * returned if the current environment is not the server. Note that, if this is a React.Context,
 * there must be a React.Provider parent in the app tree.
 * @returns A value retrieved from the current server request or a fallback value in the client.
 * The returned type depends on what the server getter returns.
 * @example
 * ```js
 * import {MyClientContext} from './my-client-react-context-provider';
 * useEnvContext(req => req.ctx.myServerContext, MyClientContext)
 * ```
 */function useEnvContext(e,t){return t&&t.$$typeof===O?s(t):t}function useShop(){const e=useEnvContext((e=>e.ctx.shopifyConfig),M);if(!e)throw new Error("No Shopify Context found");return e}const R="/__rsc";const $="/__event";new RegExp(`^${$}/`);const _="SHOPIFY_STOREFRONT_API_SECRET_TOKEN";const D="Shopify-Storefront-Private-Token";const V="X-Shopify-Storefront-Access-Token";const N="Shopify-Storefront-Buyer-IP";function useServerProps(){const e=s(x);return e?{serverProps:e.serverProps,setServerProps:e.setServerProps,pending:e.pending}:{}}function useInternalServerProps(){var e;return null!==(e=s(x))&&void 0!==e?e:{}}const q=n({});let U=true;const j={};const BrowserRouter=({history:e,children:n})=>{if(k)return t.createElement(t.Fragment,null,n);const o=i((()=>e||v()),[e]);const[a,s]=r(o.location);const{pending:l,locationServerProps:u,setLocationServerProps:d}=useInternalServerProps();useScrollRestoration(a,l,u);c((()=>{const e=o.listen((({location:e})=>{j[a.key]=window.scrollY;d({pathname:e.pathname,search:e.search});s(e)}));return()=>e()}),[o,a]);return t.createElement(q.Provider,{value:{history:o,location:a}},n)};function useRouter(){const e=s(q);if(!e&&k)throw new Error("useRouter must be used within a <Router> component");return e}function useLocation(){return useRouter().location}function useBeforeUnload(e){t.useEffect((()=>{window.addEventListener("beforeunload",e);return()=>{window.removeEventListener("beforeunload",e)}}),[e])}function useScrollRestoration(e,t,n){l((()=>{window.history.scrollRestoration="manual"}),[]);useBeforeUnload(a((()=>{window.history.scrollRestoration="auto"}),[]));c((()=>{if(U){U=false;return}const r=j[e.key];const o=!t&&e.pathname===n.pathname&&e.search===n.search;if(o){if(e.hash){const t=document.querySelector(e.hash);if(t){t.scrollIntoView();return}}r?window.scrollTo(0,r):window.scrollTo(0,0)}}),[e,t,n])}function useUrl(){var e,t;if(k){const n=new URL(useEnvContext((e=>e.url)));if(n.pathname===R){const r=JSON.parse(n.searchParams.get("state")||"{}");const o=`${n.origin}${null!==(e=r.pathname)&&void 0!==e?e:""}${null!==(t=r.search)&&void 0!==t?t:""}`;return new URL(o)}return new URL(n)}const n=useLocation();return i((()=>new URL(window.location.href)),[n])}function useNavigate(){const e=useRouter();return(t,n={replace:false,reloadDocument:false})=>{(null===n||void 0===n?void 0:n.replace)?e.history.replace(t,(null===n||void 0===n?void 0:n.clientState)||{}):e.history.push(t,(null===n||void 0===n?void 0:n.clientState)||{})}}const Q=t.forwardRef((function Link(e,n){const o=useNavigate();const{location:i}=useRouter();const[s,c]=t.useTransition();const[u,d]=r(false);const[m,p]=r(false);const{reloadDocument:v,target:h,replace:f,to:y,onClick:C,clientState:w,prefetch:S=true}=e;const E=a((t=>{C&&C(t);if(!v&&0===t.button&&(!h||"_self"===h)&&!isModifiedEvent(t)){t.preventDefault();const n=!!f||g(i)===g({pathname:y});o(e.to,{replace:n,clientState:w})}}),[v,h,f,y,w,C,i]);const signalPrefetchIntent=()=>{c((()=>{S&&p(true)}))};const cancelPrefetchIntent=()=>{c((()=>{S&&p(false)}))};l((()=>{if(m){const e=setTimeout((()=>{d(true)}),100);return()=>{clearTimeout(e)}}}),[m]);const b=composeEventHandlers(e.onMouseEnter,signalPrefetchIntent);const P=composeEventHandlers(e.onMouseLeave,cancelPrefetchIntent);const I=composeEventHandlers(e.onFocus,signalPrefetchIntent);const L=composeEventHandlers(e.onBlur,cancelPrefetchIntent);const A=composeEventHandlers(e.onTouchStart,signalPrefetchIntent);return t.createElement(t.Fragment,null,t.createElement("a",{...without(e,["to","replace","clientState","reloadDocument","prefetch"]),ref:n,onClick:E,onMouseEnter:b,onMouseLeave:P,onFocus:I,onBlur:L,onTouchStart:A,href:e.to},e.children),u&&t.createElement(Prefetch,{pathname:y}))}));function Prefetch({pathname:e}){const{getProposedLocationServerProps:n}=useInternalServerProps();const{location:r}=useRouter();const o=g({pathname:e});if(e.startsWith("http")||o===g(r))return null;const a=new URL(o,window.location.href);const i=n({pathname:a.pathname,search:a.search});const s=`${R}?state=`+encodeURIComponent(JSON.stringify(i));return t.createElement("link",{rel:"prefetch",as:"fetch",href:s})}function composeEventHandlers(e,t){return n=>{null===e||void 0===e?void 0:e(n);n.defaultPrevented||t(n)}}function isModifiedEvent(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function without(e,t){const n={};for(const r of Object.keys(e))t.includes(r)||(n[r]=e[r]);return n}const B=["cdn.shopify.com","cdn.shopifycdn.net","shopify-assets.shopifycdn.com","shopify-assets.shopifycdn.net"];const H=["spin.dev"];function addImageSizeParametersToUrl(e,{width:t,height:n,crop:r,scale:o,format:a}){const i=new URL(e);const s=t||n?`_${null!==t&&void 0!==t?t:""}x${null!==n&&void 0!==n?n:""}`:"";const c=r?`_crop_${r}`:"";const l=o?`@${o}x`:"";const u="pjpg"===a?".progressive":"";const d="jpg"===a?".jpg":"";const m=i.pathname.lastIndexOf(".");const p=i.pathname.substr(0,m);const v=i.pathname.substr(m);i.pathname=`${p}${s}${c}${l}${u}${v}${d}`;return i.toString()}function shopifyImageLoader({src:e,options:t}){const n=new URL(e);const r=B.concat(H);const o=r.some((e=>n.hostname.endsWith(e)));return o&&null!=t&&(t.width||t.height||t.crop||t.scale||t.format)?addImageSizeParametersToUrl(e,t):e}function useImageUrl(t,n){return e.useMemo((()=>t?shopifyImageLoader({src:t,options:n}):t),[n,t])}function getShopifyImageDimensions(e,t){const n=e.width;const r=e.height;if(n&&r&&((null===t||void 0===t?void 0:t.width)||(null===t||void 0===t?void 0:t.height))){const e=(null===t||void 0===t?void 0:t.width)?parseInt(t.width,10):void 0;const o=(null===t||void 0===t?void 0:t.height)?parseInt(t.height,10):void 0;if(e&&o)return{width:e,height:o};if(!e&&o)return{width:Math.round(n/r*o),height:o};if(e&&!o)return{width:e,height:Math.round(r/n*e)}}return{width:n,height:r}}function addParametersToEmbeddedVideoUrl(e,t){if(null==t)return e;const n=Object.keys(t).reduce(((e,n)=>{const r=t[n];return null==r?e:e+`&${n}=${r}`}),"");return`${e}?${n}`}function useEmbeddedVideoUrl(e,t){return i((()=>t?addParametersToEmbeddedVideoUrl(e,t):e),[e,t])}const z={};function loadScript(e,t){const n=z[e];if(n)return n;const r=new Promise(((n,r)=>{const o=document.createElement("script");(null===t||void 0===t?void 0:t.module)&&(o.type="module");o.src=e;o.onload=()=>{n(true)};o.onerror=()=>{r(false)};document.body.appendChild(o)}));z[e]=r;return r}function hashKey(e){const t=e instanceof Array?e:[e];return t.map((e=>JSON.stringify(e))).join("")}function flattenConnection(e){return(e.edges||[]).map((e=>{if(!(null===e||void 0===e?void 0:e.node))throw new Error("Connection edges must contain nodes");return e.node}))}function isClient(){return"undefined"!==typeof window}function isServer(){return!isClient()}const G={mm:"millimeter",cm:"centimeter",m:"meter",in:"inch",ft:"foot",yd:"yard",ml:"milliliter",l:"liter",us_fl_oz:"fluid-ounce",us_gal:"gallon",kg:"kilogram",g:"gram",lb:"pound",oz:"ounce"};function getMeasurementAsString(e,t="en-us",n={}){let r={value:e.value,unit:G[e.unit]};null==r.unit&&(r=convertToSupportedUnit(e.value,e.unit));return new Intl.NumberFormat(t,{...n,unit:r.unit,style:"unit"}).format(r.value)}function getMeasurementAsParts(e,t="en-us",n={}){let r={value:e.value,unit:G[e.unit]};null==r.unit&&(r=convertToSupportedUnit(e.value,e.unit));return new Intl.NumberFormat(t,{...n,unit:r.unit,style:"unit"}).formatToParts(r.value)}function convertToSupportedUnit(e,t){switch(t){case"cl":return{value:e/1e3,unit:"liter"};case"m3":return{value:1e3*e,unit:"liter"};case"us_pt":return{value:.125*e,unit:"gallon"};case"us_qt":return{value:.5*e,unit:"gallon"};case"us_oz":return{value:e/128,unit:"gallon"};case"imp_pt":return{value:e/6.661,unit:"gallon"};case"imp_qt":return{value:e/3.331,unit:"gallon"};case"imp_gal":return{value:e/1.201,unit:"gallon"};case"imp_fl_oz":return{value:.96076*e,unit:"fluid-ounce"};default:throw new Error(`Unit not supported: ${t}`)}}function parseMetafieldValue(e){if(null==e.value)return e.value;switch(e.type){case"boolean":return"true"==e.value;case"number_integer":return parseInt(e.value);case"number_decimal":return parseFloat(e.value);case"date":case"date_time":return new Date(e.value);case"json":case"weight":case"dimension":case"volume":case"rating":return JSON.parse(e.value);case"color":case"single_line_text_field":case"multi_line_text_field":case"product_reference":case"page_reference":case"variant_reference":case"file_reference":case"url":default:return e.value}}const W="0.17.1";const K={"content-type":"application/json","user-agent":`Hydrogen ${W}`};function fetchBuilder(e,t={}){const n={...t,headers:{...K,...t.headers}};return async()=>{const t=await fetch(e,n);if(!t.ok)throw t;const r=await t.json();return r}}function graphqlRequestBody(e,t){const n="string"===typeof e?e:h(e);return JSON.stringify({query:n,variables:t})}function decodeShopifyId(e){if(!e.startsWith("gid://"))throw new Error("invalid Shopify ID");return e}function getTime(){return"undefined"!==typeof performance&&performance.now?performance.now():Date.now()}function Image(e){var n,r,o,a;const{data:i,options:s,src:c,id:l,alt:u,width:d,height:m,loader:p,loaderOptions:v,...g}=e;if(!i&&!c)throw new Error("Image component: requires either an `data` or `src` prop.");if(!i&&c&&(!d||!m))throw new Error(`Image component: when 'src' is provided, 'width' and 'height' are required and needs to be valid values (i.e. greater than zero). Provided values: 'src': ${c}, 'width': ${d}, 'height': ${m}`);const h=i?convertShopifyImageData({data:i,options:s,loader:p,loaderOptions:v,id:l,alt:u}):{src:c,id:l,alt:u,width:d,height:m,loader:p,loaderOptions:{width:d,height:m,...v}};const f=h.loader?h.loader({src:h.src,options:h.loaderOptions}):h.src;return t.createElement("img",{id:null!==(n=h.id)&&void 0!==n?n:"",loading:"lazy",alt:null!==(r=h.alt)&&void 0!==r?r:"",...g,src:f,width:null!==(o=h.width)&&void 0!==o?o:void 0,height:null!==(a=h.height)&&void 0!==a?a:void 0})}function convertShopifyImageData({data:e,options:t,loader:n,loaderOptions:r,id:o,alt:a}){const{url:i,altText:s,id:c}=e;if(!i)throw new Error("<Image/> requires 'data.url' when using the 'data' prop");const{width:l,height:u}=getShopifyImageDimensions(e,t);return{src:i,id:o||c,alt:a||s,width:l,height:u,loader:n||shopifyImageLoader,loaderOptions:{...t,...r}}}function Video(e){var n;const{data:r,options:o,id:a=r.id,playsInline:i=true,controls:s=true,...c}=e;const l=useImageUrl(null===(n=r.previewImage)||void 0===n?void 0:n.url,o);if(!r.sources)throw new Error("<Video/> requires a 'data.sources' array");return t.createElement("video",{...c,id:a,playsInline:i,controls:s,poster:l},r.sources.map((e=>{if(!((null===e||void 0===e?void 0:e.url)&&(null===e||void 0===e?void 0:e.mimeType)))throw new Error("<Video/> needs 'source.url' and 'source.mimeType'");return t.createElement("source",{key:e.url,src:e.url,type:e.mimeType})})))}function ExternalVideo(e){const{data:n,options:r,id:o=n.id,frameBorder:a="0",allow:i="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:s=true,...c}=e;if(!n.embedUrl)throw new Error("<ExternalVideo/> requires the 'embedUrl' property");const l=useEmbeddedVideoUrl(n.embedUrl,r);return t.createElement("iframe",{...c,id:null!==o&&void 0!==o?o:n.embedUrl,frameBorder:a,allow:i,allowFullScreen:s,src:l})}function useLoadScript(e,t){const[n,o]=r("loading");l((()=>{async function loadScriptWrapper(){try{o("loading");await loadScript(e,t);o("done")}catch(e){o("error")}}loadScriptWrapper()}),[e,JSON.stringify(t)]);return n}function ModelViewer(e){var n,o,i,s,c,u,d,m;const[p,v]=r(void 0);const g=a((e=>{v(e)}),[]);const{data:h,id:f=h.id,children:y,className:C,...w}=e;const S=useLoadScript("https://unpkg.com/@google/model-viewer@v1.8.0/dist/model-viewer.min.js",{module:true});l((()=>{if(null!=p){w.onError&&p.addEventListener("error",w.onError);w.onLoad&&p.addEventListener("load",w.onLoad);w.onPreload&&p.addEventListener("preload",w.onPreload);w.onModelVisibility&&p.addEventListener("model-visibility",w.onModelVisibility);w.onProgress&&p.addEventListener("progress",w.onProgress);w.onArStatus&&p.addEventListener("ar-status",w.onArStatus);w.onArTracking&&p.addEventListener("ar-tracking",w.onArTracking);w.onQuickLookButtonTapped&&p.addEventListener("quick-look-button-tapped",w.onQuickLookButtonTapped);w.onCameraChange&&p.addEventListener("camera-change",w.onCameraChange);w.onEnvironmentChange&&p.addEventListener("environment-change",w.onEnvironmentChange);w.onPlay&&p.addEventListener("play",w.onPlay);w.onPause&&p.addEventListener("ar-status",w.onPause);w.onSceneGraphReady&&p.addEventListener("scene-graph-ready",w.onSceneGraphReady);return()=>{if(null!=p){w.onError&&p.removeEventListener("error",w.onError);w.onLoad&&p.removeEventListener("load",w.onLoad);w.onPreload&&p.removeEventListener("preload",w.onPreload);w.onModelVisibility&&p.removeEventListener("model-visibility",w.onModelVisibility);w.onProgress&&p.removeEventListener("progress",w.onProgress);w.onArStatus&&p.removeEventListener("ar-status",w.onArStatus);w.onArTracking&&p.removeEventListener("ar-tracking",w.onArTracking);w.onQuickLookButtonTapped&&p.removeEventListener("quick-look-button-tapped",w.onQuickLookButtonTapped);w.onCameraChange&&p.removeEventListener("camera-change",w.onCameraChange);w.onEnvironmentChange&&p.removeEventListener("environment-change",w.onEnvironmentChange);w.onPlay&&p.removeEventListener("play",w.onPlay);w.onPause&&p.removeEventListener("ar-status",w.onPause);w.onSceneGraphReady&&p.removeEventListener("scene-graph-ready",w.onSceneGraphReady)}}}}),[p,w.onArStatus,w.onArTracking,w.onCameraChange,w.onEnvironmentChange,w.onError,w.onLoad,w.onModelVisibility,w.onPause,w.onPlay,w.onPreload,w.onProgress,w.onQuickLookButtonTapped,w.onSceneGraphReady]);if("done"!==S)return null;if(!(null===(o=null===(n=h.sources)||void 0===n?void 0:n[0])||void 0===o?void 0:o.url))throw new Error("<ModelViewer/> requires 'data.sources' prop to be an array, with an object that has a property 'url' on it");if(!h.alt)throw new Error("<ModelViewer/> requires the 'data.alt' prop");return t.createElement("model-viewer",{ref:g,...w,class:C,id:f,src:h.sources[0].url,alt:h.alt,"camera-controls":null===(i=w.cameraControls)||void 0===i||i,poster:w.poster||(null===(s=h.previewImage)||void 0===s?void 0:s.url),autoplay:null===(c=w.autoplay)||void 0===c||c,loading:w.loading,reveal:w.reveal,ar:w.ar,"ar-modes":w.arModes,"ar-scale":w.arScale,"ar-placement":w.arPlacement,"ios-src":w.iosSrc,"touch-action":w.touchAction,"disable-zoom":w.disableZoom,"orbit-sensitivity":w.orbitSensitivity,"auto-rotate":w.autoRotate,"auto-rotate-delay":w.autoRotateDelay,"rotation-per-second":w.rotationPerSecond,"interaction-policy":w.interactionPolicy,"interaction-prompt":w.interactionPrompt,"interaction-prompt-style":w.interactionPromptStyle,"interaction-prompt-threshold":w.interactionPromptThreshold,"camera-orbit":w.cameraOrbit,"camera-target":w.cameraTarget,"field-of-view":w.fieldOfView,"max-camera-orbit":w.maxCameraOrbit,"min-camera-orbit":w.minCameraOrbit,"max-field-of-view":w.maxFieldOfView,"min-field-of-view":w.minFieldOfView,bounds:w.bounds,"interpolation-decay":null!==(u=w.interpolationDecay)&&void 0!==u?u:100,"skybox-image":w.skyboxImage,"environment-image":w.environmentImage,exposure:w.exposure,"shadow-intensity":null!==(d=w.shadowIntensity)&&void 0!==d?d:0,"shadow-softness":null!==(m=w.shadowSoftness)&&void 0!==m?m:0,"animation-name":w.animationName,"animation-crossfade-duration":w.animationCrossfadeDuration,"variant-name":w.variantName,orientation:w.orientation,scale:w.scale},y)}function MediaFile({data:e,options:n,...r}){switch(e.mediaContentType){case"IMAGE":{const o=e.image;if(!o){console.warn('No "image" property was found on the "data" prop for <MediaFile/>, for the "type=\'image\'"');return null}return t.createElement(Image,{...r,data:o,options:n})}case"VIDEO":return t.createElement(Video,{...r,data:e,options:n});case"EXTERNAL_VIDEO":return t.createElement(ExternalVideo,{...r,data:e,options:n});case"MODEL_3D":return t.createElement(ModelViewer,{...r,data:e});default:return null}}const Z="\nmutation CartLineAdd($cartId: ID!, $lines: [CartLineInput!]!, $numCartLines: Int = 250, $country: CountryCode = ZZ) @inContext(country: $country) {\n  cartLinesAdd(cartId: $cartId, lines: $lines) {\n    cart {\n      ...CartFragment\n    }\n  }\n}\n\nfragment CartFragment on Cart {\n  id\n  checkoutUrl\n  buyerIdentity {\n    countryCode\n    customer {\n      id\n      email\n      firstName\n      lastName\n      displayName\n    }\n    email\n    phone\n  }\n  lines(first: $numCartLines) {\n    edges {\n      node {\n        id\n        quantity\n        attributes {\n          key\n          value\n        }\n        merchandise {\n          ... on ProductVariant {\n            id\n            availableForSale\n            compareAtPriceV2 {\n              ...MoneyFragment\n            }\n            priceV2 {\n              ...MoneyFragment\n            }\n            requiresShipping\n            title\n            image {\n              ...ImageFragment\n            }\n            product {\n              handle\n              title\n            }\n            selectedOptions {\n              name\n              value\n            }\n          }\n        }\n      }\n    }\n  }\n  estimatedCost {\n    subtotalAmount {\n      ...MoneyFragment\n    }\n    totalAmount {\n      ...MoneyFragment\n    }\n    totalDutyAmount {\n      ...MoneyFragment\n    }\n    totalTaxAmount {\n      ...MoneyFragment\n    }\n  }\n  note\n  attributes {\n    key\n    value\n  }\n  discountCodes {\n    code\n  }\n}\n\nfragment MoneyFragment on MoneyV2 {\n  currencyCode\n  amount\n}\nfragment ImageFragment on Image {\n  id\n  url\n  altText\n  width\n  height\n}\n";const J="\nmutation CartCreate($input: CartInput!, $numCartLines: Int = 250, $country: CountryCode = ZZ) @inContext(country: $country) {\n  cartCreate(input: $input) {\n    cart {\n      ...CartFragment\n    }\n  }\n}\n\nfragment CartFragment on Cart {\n  id\n  checkoutUrl\n  buyerIdentity {\n    countryCode\n    customer {\n      id\n      email\n      firstName\n      lastName\n      displayName\n    }\n    email\n    phone\n  }\n  lines(first: $numCartLines) {\n    edges {\n      node {\n        id\n        quantity\n        attributes {\n          key\n          value\n        }\n        merchandise {\n          ... on ProductVariant {\n            id\n            availableForSale\n            compareAtPriceV2 {\n              ...MoneyFragment\n            }\n            priceV2 {\n              ...MoneyFragment\n            }\n            requiresShipping\n            title\n            image {\n              ...ImageFragment\n            }\n            product {\n              handle\n              title\n            }\n            selectedOptions {\n              name\n              value\n            }\n          }\n        }\n      }\n    }\n  }\n  estimatedCost {\n    subtotalAmount {\n      ...MoneyFragment\n    }\n    totalAmount {\n      ...MoneyFragment\n    }\n    totalDutyAmount {\n      ...MoneyFragment\n    }\n    totalTaxAmount {\n      ...MoneyFragment\n    }\n  }\n  note\n  attributes {\n    key\n    value\n  }\n  discountCodes {\n    code\n  }\n}\n\nfragment MoneyFragment on MoneyV2 {\n  currencyCode\n  amount\n}\nfragment ImageFragment on Image {\n  id\n  url\n  altText\n  width\n  height\n}\n";const Y="\nmutation CartLineRemove($cartId: ID!, $lines: [ID!]!, $numCartLines: Int = 250, $country: CountryCode = ZZ) @inContext(country: $country) {\n  cartLinesRemove(cartId: $cartId, lineIds: $lines) {\n    cart {\n      ...CartFragment\n    }\n  }\n}\n\nfragment CartFragment on Cart {\n  id\n  checkoutUrl\n  buyerIdentity {\n    countryCode\n    customer {\n      id\n      email\n      firstName\n      lastName\n      displayName\n    }\n    email\n    phone\n  }\n  lines(first: $numCartLines) {\n    edges {\n      node {\n        id\n        quantity\n        attributes {\n          key\n          value\n        }\n        merchandise {\n          ... on ProductVariant {\n            id\n            availableForSale\n            compareAtPriceV2 {\n              ...MoneyFragment\n            }\n            priceV2 {\n              ...MoneyFragment\n            }\n            requiresShipping\n            title\n            image {\n              ...ImageFragment\n            }\n            product {\n              handle\n              title\n            }\n            selectedOptions {\n              name\n              value\n            }\n          }\n        }\n      }\n    }\n  }\n  estimatedCost {\n    subtotalAmount {\n      ...MoneyFragment\n    }\n    totalAmount {\n      ...MoneyFragment\n    }\n    totalDutyAmount {\n      ...MoneyFragment\n    }\n    totalTaxAmount {\n      ...MoneyFragment\n    }\n  }\n  note\n  attributes {\n    key\n    value\n  }\n  discountCodes {\n    code\n  }\n}\n\nfragment MoneyFragment on MoneyV2 {\n  currencyCode\n  amount\n}\nfragment ImageFragment on Image {\n  id\n  url\n  altText\n  width\n  height\n}\n";const X="\nmutation CartLineUpdate($cartId: ID!, $lines: [CartLineUpdateInput!]!, $numCartLines: Int = 250, $country: CountryCode = ZZ) @inContext(country: $country) {\n  cartLinesUpdate(cartId: $cartId, lines: $lines) {\n    cart {\n      ...CartFragment\n    }\n  }\n}\n\nfragment CartFragment on Cart {\n  id\n  checkoutUrl\n  buyerIdentity {\n    countryCode\n    customer {\n      id\n      email\n      firstName\n      lastName\n      displayName\n    }\n    email\n    phone\n  }\n  lines(first: $numCartLines) {\n    edges {\n      node {\n        id\n        quantity\n        attributes {\n          key\n          value\n        }\n        merchandise {\n          ... on ProductVariant {\n            id\n            availableForSale\n            compareAtPriceV2 {\n              ...MoneyFragment\n            }\n            priceV2 {\n              ...MoneyFragment\n            }\n            requiresShipping\n            title\n            image {\n              ...ImageFragment\n            }\n            product {\n              handle\n              title\n            }\n            selectedOptions {\n              name\n              value\n            }\n          }\n        }\n      }\n    }\n  }\n  estimatedCost {\n    subtotalAmount {\n      ...MoneyFragment\n    }\n    totalAmount {\n      ...MoneyFragment\n    }\n    totalDutyAmount {\n      ...MoneyFragment\n    }\n    totalTaxAmount {\n      ...MoneyFragment\n    }\n  }\n  note\n  attributes {\n    key\n    value\n  }\n  discountCodes {\n    code\n  }\n}\n\nfragment MoneyFragment on MoneyV2 {\n  currencyCode\n  amount\n}\nfragment ImageFragment on Image {\n  id\n  url\n  altText\n  width\n  height\n}\n";const ee="\nmutation CartNoteUpdate($cartId: ID!, $note: String, $numCartLines: Int = 250, $country: CountryCode = ZZ) @inContext(country: $country) {\n  cartNoteUpdate(cartId: $cartId, note: $note) {\n    cart {\n      ...CartFragment\n    }\n  }\n}\n\nfragment CartFragment on Cart {\n  id\n  checkoutUrl\n  buyerIdentity {\n    countryCode\n    customer {\n      id\n      email\n      firstName\n      lastName\n      displayName\n    }\n    email\n    phone\n  }\n  lines(first: $numCartLines) {\n    edges {\n      node {\n        id\n        quantity\n        attributes {\n          key\n          value\n        }\n        merchandise {\n          ... on ProductVariant {\n            id\n            availableForSale\n            compareAtPriceV2 {\n              ...MoneyFragment\n            }\n            priceV2 {\n              ...MoneyFragment\n            }\n            requiresShipping\n            title\n            image {\n              ...ImageFragment\n            }\n            product {\n              handle\n              title\n            }\n            selectedOptions {\n              name\n              value\n            }\n          }\n        }\n      }\n    }\n  }\n  estimatedCost {\n    subtotalAmount {\n      ...MoneyFragment\n    }\n    totalAmount {\n      ...MoneyFragment\n    }\n    totalDutyAmount {\n      ...MoneyFragment\n    }\n    totalTaxAmount {\n      ...MoneyFragment\n    }\n  }\n  note\n  attributes {\n    key\n    value\n  }\n  discountCodes {\n    code\n  }\n}\n\nfragment MoneyFragment on MoneyV2 {\n  currencyCode\n  amount\n}\nfragment ImageFragment on Image {\n  id\n  url\n  altText\n  width\n  height\n}\n";const te="\nmutation CartBuyerIdentityUpdate(\n  $cartId: ID!\n  $buyerIdentity: CartBuyerIdentityInput!\n  $numCartLines: Int = 250\n  $country: CountryCode = ZZ\n) @inContext(country: $country) {\n  cartBuyerIdentityUpdate(cartId: $cartId, buyerIdentity: $buyerIdentity) {\n    cart {\n      ...CartFragment\n    }\n  }\n}\n\nfragment CartFragment on Cart {\n  id\n  checkoutUrl\n  buyerIdentity {\n    countryCode\n    customer {\n      id\n      email\n      firstName\n      lastName\n      displayName\n    }\n    email\n    phone\n  }\n  lines(first: $numCartLines) {\n    edges {\n      node {\n        id\n        quantity\n        attributes {\n          key\n          value\n        }\n        merchandise {\n          ... on ProductVariant {\n            id\n            availableForSale\n            compareAtPriceV2 {\n              ...MoneyFragment\n            }\n            priceV2 {\n              ...MoneyFragment\n            }\n            requiresShipping\n            title\n            image {\n              ...ImageFragment\n            }\n            product {\n              handle\n              title\n            }\n            selectedOptions {\n              name\n              value\n            }\n          }\n        }\n      }\n    }\n  }\n  estimatedCost {\n    subtotalAmount {\n      ...MoneyFragment\n    }\n    totalAmount {\n      ...MoneyFragment\n    }\n    totalDutyAmount {\n      ...MoneyFragment\n    }\n    totalTaxAmount {\n      ...MoneyFragment\n    }\n  }\n  note\n  attributes {\n    key\n    value\n  }\n  discountCodes {\n    code\n  }\n}\n\nfragment MoneyFragment on MoneyV2 {\n  currencyCode\n  amount\n}\nfragment ImageFragment on Image {\n  id\n  url\n  altText\n  width\n  height\n}\n";const ne="\nmutation CartAttributesUpdate($attributes: [AttributeInput!]!, $cartId: ID!, $numCartLines: Int = 250, $country: CountryCode = ZZ) @inContext(country: $country) {\n  cartAttributesUpdate(attributes: $attributes, cartId: $cartId) {\n    cart {\n      ...CartFragment\n    }\n  }\n}\n\nfragment CartFragment on Cart {\n  id\n  checkoutUrl\n  buyerIdentity {\n    countryCode\n    customer {\n      id\n      email\n      firstName\n      lastName\n      displayName\n    }\n    email\n    phone\n  }\n  lines(first: $numCartLines) {\n    edges {\n      node {\n        id\n        quantity\n        attributes {\n          key\n          value\n        }\n        merchandise {\n          ... on ProductVariant {\n            id\n            availableForSale\n            compareAtPriceV2 {\n              ...MoneyFragment\n            }\n            priceV2 {\n              ...MoneyFragment\n            }\n            requiresShipping\n            title\n            image {\n              ...ImageFragment\n            }\n            product {\n              handle\n              title\n            }\n            selectedOptions {\n              name\n              value\n            }\n          }\n        }\n      }\n    }\n  }\n  estimatedCost {\n    subtotalAmount {\n      ...MoneyFragment\n    }\n    totalAmount {\n      ...MoneyFragment\n    }\n    totalDutyAmount {\n      ...MoneyFragment\n    }\n    totalTaxAmount {\n      ...MoneyFragment\n    }\n  }\n  note\n  attributes {\n    key\n    value\n  }\n  discountCodes {\n    code\n  }\n}\n\nfragment MoneyFragment on MoneyV2 {\n  currencyCode\n  amount\n}\nfragment ImageFragment on Image {\n  id\n  url\n  altText\n  width\n  height\n}\n";const re="\nmutation CartDiscountCodesUpdate($cartId: ID!, $discountCodes: [String!], $numCartLines: Int = 250, $country: CountryCode = ZZ) @inContext(country: $country) {\n  cartDiscountCodesUpdate(cartId: $cartId, discountCodes: $discountCodes) {\n    cart {\n      ...CartFragment\n    }\n  }\n}\n\nfragment CartFragment on Cart {\n  id\n  checkoutUrl\n  buyerIdentity {\n    countryCode\n    customer {\n      id\n      email\n      firstName\n      lastName\n      displayName\n    }\n    email\n    phone\n  }\n  lines(first: $numCartLines) {\n    edges {\n      node {\n        id\n        quantity\n        attributes {\n          key\n          value\n        }\n        merchandise {\n          ... on ProductVariant {\n            id\n            availableForSale\n            compareAtPriceV2 {\n              ...MoneyFragment\n            }\n            priceV2 {\n              ...MoneyFragment\n            }\n            requiresShipping\n            title\n            image {\n              ...ImageFragment\n            }\n            product {\n              handle\n              title\n            }\n            selectedOptions {\n              name\n              value\n            }\n          }\n        }\n      }\n    }\n  }\n  estimatedCost {\n    subtotalAmount {\n      ...MoneyFragment\n    }\n    totalAmount {\n      ...MoneyFragment\n    }\n    totalDutyAmount {\n      ...MoneyFragment\n    }\n    totalTaxAmount {\n      ...MoneyFragment\n    }\n  }\n  note\n  attributes {\n    key\n    value\n  }\n  discountCodes {\n    code\n  }\n}\n\nfragment MoneyFragment on MoneyV2 {\n  currencyCode\n  amount\n}\nfragment ImageFragment on Image {\n  id\n  url\n  altText\n  width\n  height\n}\n";const oe="\nquery CartQuery($id: ID!, $numCartLines: Int = 250, $country: CountryCode = ZZ) @inContext(country: $country) {\n  cart(id: $id) {\n    ...CartFragment\n  }\n}\n\nfragment CartFragment on Cart {\n  id\n  checkoutUrl\n  buyerIdentity {\n    countryCode\n    customer {\n      id\n      email\n      firstName\n      lastName\n      displayName\n    }\n    email\n    phone\n  }\n  lines(first: $numCartLines) {\n    edges {\n      node {\n        id\n        quantity\n        attributes {\n          key\n          value\n        }\n        merchandise {\n          ... on ProductVariant {\n            id\n            availableForSale\n            compareAtPriceV2 {\n              ...MoneyFragment\n            }\n            priceV2 {\n              ...MoneyFragment\n            }\n            requiresShipping\n            title\n            image {\n              ...ImageFragment\n            }\n            product {\n              handle\n              title\n            }\n            selectedOptions {\n              name\n              value\n            }\n          }\n        }\n      }\n    }\n  }\n  estimatedCost {\n    subtotalAmount {\n      ...MoneyFragment\n    }\n    totalAmount {\n      ...MoneyFragment\n    }\n    totalDutyAmount {\n      ...MoneyFragment\n    }\n    totalTaxAmount {\n      ...MoneyFragment\n    }\n  }\n  note\n  attributes {\n    key\n    value\n  }\n  discountCodes {\n    code\n  }\n}\n\nfragment MoneyFragment on MoneyV2 {\n  currencyCode\n  amount\n}\nfragment ImageFragment on Image {\n  id\n  url\n  altText\n  width\n  height\n}\n";function useCartFetch(){const{storeDomain:e,storefrontApiVersion:n,storefrontToken:r}=useShop();return t.useCallback((({query:t,variables:o})=>fetch(`https://${e}/api/${n}/graphql.json`,{method:"POST",headers:{"Content-Type":"application/json","X-SDK-Variant":"hydrogen","X-SDK-Version":n,"X-Shopify-Storefront-Access-Token":r},body:JSON.stringify({query:t.toString(),variables:o})}).then((e=>e.json())).catch((e=>({data:void 0,error:e.toString()})))),[e,n,r])}function useInstantCheckout(){const[e,n]=r();const[o,a]=r();const[i,s]=r();const c=useCartFetch();const l=t.useCallback((async e=>{var t,r;const{data:o,error:i}=await c({query:J,variables:{input:e}});if(i){s(i);n(void 0);a(void 0)}if(null===(t=null===o||void 0===o?void 0:o.cartCreate)||void 0===t?void 0:t.cart){const e=o.cartCreate.cart;n({...e,lines:flattenConnection(e.lines),note:null!==(r=e.note)&&void 0!==r?r:void 0});a(e.checkoutUrl)}}),[c]);return{cart:e,checkoutUrl:o,error:i,createInstantCheckout:l}}const ae=n(null);const ie="shopifyCartId";function findQueryName(e){const t=decodeURIComponent(e);if(e.length<100)return e.replace('"__QUERY_CACHE_ID__"',"").replace(/"/g,"");const n=t.match(/query ([^\s\()]*)\s?(|\(\{)/);return n&&n.length>1?n[1]:"<unknown>"}const se={trace(e,...t){},debug(e,...t){console.log(...t)},warn(e,...t){console.warn(f("WARN: "),...t)},error(e,...t){console.error(y("ERROR: "),...t)},fatal(e,...t){console.error(y("FATAL: "),...t)},options:()=>({})};globalThis.__logger=se;function buildLogger(){return{trace:(...e)=>globalThis.__logger.trace(this,...e),debug:(...e)=>globalThis.__logger.debug(this,...e),warn:(...e)=>globalThis.__logger.warn(this,...e),error:(...e)=>globalThis.__logger.error(this,...e),fatal:(...e)=>globalThis.__logger.fatal(this,...e),options:()=>globalThis.__logger.options()}}const ce=buildLogger.call({});function getLoggerWithContext(e={}){return buildLogger.call(e)}function setLogger(e){globalThis.__logger=e}function setLoggerOptions(e){globalThis.__logger.options=()=>e}function collectQueryCacheControlHeaders(e,t,n){e.ctx.queryCacheControl.push({name:findQueryName(hashKey(t)),header:n})}function logCacheApiStatus(e,t){ce.options().showCacheApiStatus&&ce.debug(E(`[Cache] ${null===e||void 0===e?void 0:e.padEnd(8)} query ${findQueryName(t)}`))}function collectQueryTimings(e,t,n,r){e.ctx.queryTimings.push({name:findQueryName(hashKey(t)),timingType:n,timestamp:getTime(),duration:r})}const le=n(null);function requestCacheRSC(){return new Map}requestCacheRSC.key=Symbol.for("HYDROGEN_REQUEST");function useServerRequest(){let e;try{const n=t.unstable_getCacheForType(requestCacheRSC);e=n?n.get(requestCacheRSC.key):null}catch(t){e=s(le)}if(!e){if(__DEV__&&"undefined"!==typeof jest)return{ctx:{}};throw new Error("No ServerRequest Context found")}return e}function useRequestCacheData(e,t){const n=useServerRequest();const r=n.ctx.cache;const o=hashKey(e);if(!r.has(o)){let a;let i;r.set(o,(()=>{if(void 0!==a){collectQueryTimings(n,e,"rendered");return a}if(!i){const r=getTime();i=t().then((t=>{a={data:t};collectQueryTimings(n,e,"resolved",getTime()-r)}),(e=>a={error:e}))}throw i}))}const a=r.get(o).call();if(a instanceof Promise)throw a;return a}function useServerAnalytics(e){const t=useServerRequest();e&&(t.ctx.analyticsData=Object.assign({},t.ctx.analyticsData,e));return t.ctx.analyticsData}const ue={PAGE_VIEW:"page-view",VIEWED_PRODUCT:"viewed-product",ADD_TO_CART:"add-to-cart",REMOVE_FROM_CART:"remove-from-cart",UPDATE_CART:"update-cart",DISCOUNT_CODE_UPDATED:"discount-code-updated"};const de=Object.values(ue);function getNamedspacedEventname(e){return-1===de.indexOf(e)?`c-${e}`:e}const me={};let pe={};const ve={};const ge="ClientAnalytics should only be used within the useEffect callback or event handlers";function isInvokedFromServer(){if(isServer()){console.warn(ge);return true}return false}function pushToPageAnalyticsData(e,t){isInvokedFromServer()||(t?pe[t]=Object.assign({},pe[t]||{},e):pe=Object.assign({},pe,e))}function getPageAnalyticsData(){if(!isInvokedFromServer())return pe}function resetPageAnalyticsData(){isInvokedFromServer()||(pe={})}function publish(e,t=false,n){if(isInvokedFromServer())return;const r=getNamedspacedEventname(e);const o=me[r];const a=Object.assign({},pe,n);if(t){const e=ve[r];e&&clearTimeout(e);const t=setTimeout((()=>{publishEvent(o,a)}),100);ve[r]=t}else publishEvent(o,a)}function publishEvent(e,t){e&&Object.keys(e).forEach((n=>{e[n](t)}))}function subscribe(e,t){if(isInvokedFromServer())return{unsubscribe:()=>{}};const n=getNamedspacedEventname(e);const r=me[n];r||(me[n]={});const o=Date.now().toString();me[n][o]=t;return{unsubscribe:()=>{delete me[n][o]}}}function pushToServer(e,t){return fetch(`${$}${t?`?${t}`:""}`,e)}const he={pushToPageAnalyticsData:pushToPageAnalyticsData,getPageAnalyticsData:getPageAnalyticsData,resetPageAnalyticsData:resetPageAnalyticsData,publish:publish,subscribe:subscribe,pushToServer:pushToServer,eventNames:ue};function cartReducer(e,t){switch(t.type){case"cartFetch":if("uninitialized"===e.status)return{status:"fetching"};break;case"cartCreate":if("uninitialized"===e.status)return{status:"creating"};break;case"resolve":{const n=["updating","fetching","creating"];if(n.includes(e.status))return{status:"idle",cart:t.cart};break}case"reject":if("fetching"===e.status||"creating"===e.status)return{status:"uninitialized",error:t.error};if("updating"===e.status)return{status:"idle",cart:e.lastValidCart,error:t.error};break;case"resetCart":if("fetching"===e.status)return{status:"uninitialized"};break;case"addLineItem":if("idle"===e.status)return{status:"updating",cart:e.cart,lastValidCart:e.cart};break;case"removeLineItem":if("idle"===e.status)return{status:"updating",cart:{...e.cart,lines:e.cart.lines.filter((({id:e})=>!t.lines.includes(e)))},lastValidCart:e.cart};break;case"updateLineItem":if("idle"===e.status)return{status:"updating",cart:{...e.cart,lines:e.cart.lines.map((e=>{const n=t.lines.find((({id:t})=>t===e.id));return n&&n.quantity?{...e,quantity:n.quantity}:e}))},lastValidCart:e.cart};break;case"noteUpdate":if("idle"===e.status)return{status:"updating",cart:e.cart,lastValidCart:e.cart};break;case"buyerIdentityUpdate":if("idle"===e.status)return{status:"updating",cart:e.cart,lastValidCart:e.cart};break;case"cartAttributesUpdate":if("idle"===e.status)return{status:"updating",cart:e.cart,lastValidCart:e.cart};break;case"discountCodesUpdate":if("idle"===e.status)return{status:"updating",cart:e.cart,lastValidCart:e.cart};break}throw new Error(`Cannot dispatch event (${t.type}) for current cart state (${e.status})`)}function CartProvider({children:e,numCartLines:n,onCreate:r,onLineAdd:o,onLineRemove:s,onLineUpdate:c,onNoteUpdate:m,onBuyerIdentityUpdate:p,onAttributesUpdate:v,onDiscountCodesUpdate:g,data:h}){var f;const{serverProps:y}=useServerProps();const C=null===(f=null===y||void 0===y?void 0:y.country)||void 0===f?void 0:f.isoCode;const w=h?{status:"idle",cart:cartFromGraphQL(h)}:{status:"uninitialized"};const[S,E]=u(((e,t)=>cartReducer(e,t)),w);const b=useCartFetch();const P=a((async e=>{E({type:"cartFetch"});const{data:t}=await b({query:oe,variables:{id:e,numCartLines:n,country:C}});if(null===t||void 0===t?void 0:t.cart)E({type:"resolve",cart:cartFromGraphQL(t.cart)});else{window.localStorage.removeItem(ie);E({type:"resetCart"})}}),[b,n,C]);const I=a((async e=>{var t,o;E({type:"cartCreate"});null===r||void 0===r?void 0:r();if(C&&!(null===(t=e.buyerIdentity)||void 0===t?void 0:t.countryCode)){null==e.buyerIdentity&&(e.buyerIdentity={});e.buyerIdentity.countryCode=C}const{data:a,error:i}=await b({query:J,variables:{input:e,numCartLines:n,country:C}});i&&E({type:"reject",error:i});if(null===(o=null===a||void 0===a?void 0:a.cartCreate)||void 0===o?void 0:o.cart){e.lines&&he.publish(he.eventNames.ADD_TO_CART,true,{addedCartLines:e.lines,cart:a.cartCreate.cart});E({type:"resolve",cart:cartFromGraphQL(a.cartCreate.cart)});window.localStorage.setItem(ie,a.cartCreate.cart.id)}}),[r,b,n,C]);const L=a((async(e,t)=>{var r;if("idle"===t.status){E({type:"addLineItem"});null===o||void 0===o?void 0:o();const{data:a,error:i}=await b({query:Z,variables:{cartId:t.cart.id,lines:e,numCartLines:n,country:C}});i&&E({type:"reject",error:i});if(null===(r=null===a||void 0===a?void 0:a.cartLinesAdd)||void 0===r?void 0:r.cart){he.publish(he.eventNames.ADD_TO_CART,true,{addedCartLines:e,cart:a.cartLinesAdd.cart});E({type:"resolve",cart:cartFromGraphQL(a.cartLinesAdd.cart)})}}}),[b,n,o,C]);const A=a((async(e,t)=>{var r;if("idle"===t.status){E({type:"removeLineItem",lines:e});null===s||void 0===s?void 0:s();const{data:o,error:a}=await b({query:Y,variables:{cartId:t.cart.id,lines:e,numCartLines:n,country:C}});a&&E({type:"reject",error:a});if(null===(r=null===o||void 0===o?void 0:o.cartLinesRemove)||void 0===r?void 0:r.cart){he.publish(he.eventNames.REMOVE_FROM_CART,true,{removedCartLines:e,cart:o.cartLinesRemove.cart});E({type:"resolve",cart:cartFromGraphQL(o.cartLinesRemove.cart)})}}}),[b,s,n,C]);const F=a((async(e,t)=>{var r;if("idle"===t.status){E({type:"updateLineItem",lines:e});null===c||void 0===c?void 0:c();const{data:o,error:a}=await b({query:X,variables:{cartId:t.cart.id,lines:e,numCartLines:n,country:C}});a&&E({type:"reject",error:a});if(null===(r=null===o||void 0===o?void 0:o.cartLinesUpdate)||void 0===r?void 0:r.cart){he.publish(he.eventNames.UPDATE_CART,true,{updatedCartLines:e,oldCart:t.cart});E({type:"resolve",cart:cartFromGraphQL(o.cartLinesUpdate.cart)})}}}),[b,c,n,C]);const T=a((async(e,t)=>{var r;if("idle"===t.status){E({type:"noteUpdate"});null===m||void 0===m?void 0:m();const{data:o,error:a}=await b({query:ee,variables:{cartId:t.cart.id,note:e,numCartLines:n,country:C}});a&&E({type:"reject",error:a});(null===(r=null===o||void 0===o?void 0:o.cartNoteUpdate)||void 0===r?void 0:r.cart)&&E({type:"resolve",cart:cartFromGraphQL(o.cartNoteUpdate.cart)})}}),[b,m,n,C]);const x=a((async(e,t)=>{var r;if("idle"===t.status){E({type:"buyerIdentityUpdate"});null===p||void 0===p?void 0:p();const{data:o,error:a}=await b({query:te,variables:{cartId:t.cart.id,buyerIdentity:e,numCartLines:n,country:C}});a&&E({type:"reject",error:a});(null===(r=null===o||void 0===o?void 0:o.cartBuyerIdentityUpdate)||void 0===r?void 0:r.cart)&&E({type:"resolve",cart:cartFromGraphQL(o.cartBuyerIdentityUpdate.cart)})}}),[b,p,n,C]);const M=a((async(e,t)=>{var r;if("idle"===t.status){E({type:"cartAttributesUpdate"});null===v||void 0===v?void 0:v();const{data:o,error:a}=await b({query:ne,variables:{cartId:t.cart.id,attributes:e,numCartLines:n,country:C}});a&&E({type:"reject",error:a});(null===(r=null===o||void 0===o?void 0:o.cartAttributesUpdate)||void 0===r?void 0:r.cart)&&E({type:"resolve",cart:cartFromGraphQL(o.cartAttributesUpdate.cart)})}}),[b,v,n,C]);const k=a((async(e,t)=>{var r;if("idle"===t.status){E({type:"discountCodesUpdate"});null===g||void 0===g?void 0:g();const{data:o,error:a}=await b({query:re,variables:{cartId:t.cart.id,discountCodes:e,numCartLines:n,country:C}});a&&E({type:"reject",error:a});if(null===(r=null===o||void 0===o?void 0:o.cartDiscountCodesUpdate)||void 0===r?void 0:r.cart){he.publish(he.eventNames.DISCOUNT_CODE_UPDATED,true,{updatedDiscountCodes:e,cart:o.cartDiscountCodesUpdate.cart});E({type:"resolve",cart:cartFromGraphQL(o.cartDiscountCodesUpdate.cart)})}}}),[b,g,n,C]);const O=d(false);l((()=>{if(localStorage.getItem(ie)&&"uninitialized"===S.status&&!O.current){O.current=true;P(localStorage.getItem(ie))}}),[P,S]);l((()=>{"idle"===S.status&&x({countryCode:C},S)}),[C]);const R=i((()=>({..."cart"in S?S.cart:{lines:[],attributes:[],...h?cartFromGraphQL(h):{}},status:S.status,error:"error"in S?S.error:void 0,totalQuantity:"cart"in S?S.cart.lines.reduce(((e,t)=>e+t.quantity),0):0,cartCreate:I,linesAdd(e){"cart"in S&&S.cart.id?L(e,S):I({lines:e})},linesRemove(e){A(e,S)},linesUpdate(e){F(e,S)},noteUpdate(e){T(e,S)},buyerIdentityUpdate(e){x(e,S)},cartAttributesUpdate(e){M(e,S)},discountCodesUpdate(e){k(e,S)}})),[S,h,I,L,A,F,T,x,M,k]);return t.createElement(ae.Provider,{value:R},e)}function cartFromGraphQL(e){var t;return{...e,lines:flattenConnection(e.lines),note:null!==(t=e.note)&&void 0!==t?t:void 0}}function useCart(){const e=t.useContext(ae);if(!e)throw new Error("Expected a Cart Context, but no Cart Context was found");return e}function getSelectedVariant(e,t){var n,r;if(e.length&&(null===(r=null===(n=null===e||void 0===e?void 0:e[0])||void 0===n?void 0:n.selectedOptions)||void 0===r?void 0:r.length)===Object.keys(t).length)return null===e||void 0===e?void 0:e.find((e=>Object.entries(t).every((([t,n])=>{var r;return null===(r=null===e||void 0===e?void 0:e.selectedOptions)||void 0===r?void 0:r.some((e=>(null===e||void 0===e?void 0:e.name)===t&&(null===e||void 0===e?void 0:e.value)===n))}))))}function getOptions(e){const t=e.reduce(((e,t)=>{var n;if(!t.selectedOptions)throw new Error("getOptions requires 'variant.selectedOptions");null===(n=null===t||void 0===t?void 0:t.selectedOptions)||void 0===n?void 0:n.forEach((t=>{var n,r,o,a;e[null!==(n=null===t||void 0===t?void 0:t.name)&&void 0!==n?n:""]=e[null!==(r=null===t||void 0===t?void 0:t.name)&&void 0!==r?r:""]||new Set;e[null!==(o=null===t||void 0===t?void 0:t.name)&&void 0!==o?o:""].add(null!==(a=null===t||void 0===t?void 0:t.value)&&void 0!==a?a:"")}));return e}),{});return Object.keys(t).map((e=>({name:e,values:Array.from(t[e])})))}function useProductOptions({variants:e,sellingPlanGroups:t,initialVariantId:n}){const o=i((()=>e?flattenConnection(e):[]),[e]);const s=i((()=>getOptions(o)),[o]);const c=null===n?n:o.find((e=>e.id===n))||o.find((e=>e.availableForSale))||o[0];const[u,d]=r(c);const[m,p]=r((null===u||void 0===u?void 0:u.selectedOptions)?u.selectedOptions.reduce(((e,t)=>{var n,r;e[null!==(n=null===t||void 0===t?void 0:t.name)&&void 0!==n?n:""]=null!==(r=null===t||void 0===t?void 0:t.value)&&void 0!==r?r:"";return e}),{}):{});l((()=>{d(c);const e=(null===u||void 0===u?void 0:u.selectedOptions)?u.selectedOptions.reduce(((e,t)=>{var n,r;e[null!==(n=null===t||void 0===t?void 0:t.name)&&void 0!==n?n:""]=null!==(r=null===t||void 0===t?void 0:t.value)&&void 0!==r?r:"";return e}),{}):{};p(e)}),[c,o]);const v=a(((e,t)=>{const n={...m,[e]:t};p(n)}),[m]);l((()=>{const e=getSelectedVariant(o,m);e&&d(e)}),[o,m]);const g=a(((e,t)=>{var n;const r=getSelectedVariant(o,{...m,[e]:t});return null===(n=null===r||void 0===r?void 0:r.availableForSale)||void 0===n||n}),[m,o]);const h=i((()=>t?flattenConnection(t).map((e=>({...e,sellingPlans:(null===e||void 0===e?void 0:e.sellingPlans)?flattenConnection(e.sellingPlans):[]}))):[]),[t]);const[f,y]=r(void 0);const C=i((()=>{if(u&&f){if(!u.sellingPlanAllocations)throw new Error("You must include sellingPlanAllocations in your variants in order to calculate selectedSellingPlanAllocation");return flattenConnection(u.sellingPlanAllocations).find((e=>e.sellingPlan.id===f.id))}}),[u,f]);return{variants:o,variantsConnection:e,options:s,selectedVariant:u,setSelectedVariant:d,selectedOptions:m,setSelectedOption:v,setSelectedOptions:p,isOptionInStock:g,selectedSellingPlan:f,setSelectedSellingPlan:y,selectedSellingPlanAllocation:C,sellingPlanGroups:h,sellingPlanGroupsConnection:t}}function useMoney(e){const{locale:t}=useShop();const n=i((()=>({style:"currency",currency:e.currencyCode})),[e.currencyCode]);const r=parseFloat(e.amount);const o=i((()=>new Intl.NumberFormat(t,n).format(r)),[r,t,n]);const a=new Intl.NumberFormat(t,n).formatToParts(r);const s=new Intl.NumberFormat(t,{...n,currencyDisplay:"name"}).formatToParts(r);const c=new Intl.NumberFormat(t,{...n,currencyDisplay:"narrowSymbol"}).formatToParts(r);const l=i((()=>{var t,n,r,i,l,u;return{currencyCode:e.currencyCode,currencyName:null!==(n=null===(t=s.find((e=>"currency"===e.type)))||void 0===t?void 0:t.value)&&void 0!==n?n:e.currencyCode,currencySymbol:null!==(i=null===(r=a.find((e=>"currency"===e.type)))||void 0===r?void 0:r.value)&&void 0!==i?i:e.currencyCode,currencyNarrowSymbol:null!==(u=null===(l=c.find((e=>"currency"===e.type)))||void 0===l?void 0:l.value)&&void 0!==u?u:"",parts:a,localizedString:o,amount:a.filter((e=>["decimal","fraction","group","integer","literal"].includes(e.type))).map((e=>e.value)).join(""),original:e}}),[a,e,s,c,o]);return l}function useMeasurement(e,t={}){const{locale:n}=useShop();return i((()=>({localizedString:getMeasurementAsString(e,n,t),parts:getMeasurementAsParts(e,n,t),original:e})),[n,e,t])}function useParsedMetafields(e){var t,n;null===(n=null===(t=null===e||void 0===e?void 0:e.edges)||void 0===t?void 0:t[0])||void 0===n?void 0:n.node;return i((()=>{if(!e)throw new Error("'useParsedMetafields' needs metafields");return flattenConnection(e).map((e=>({...e,value:parseMetafieldValue(e)})))}),[e])}const fe=n(null);const ye=n(null);function useProduct(){var e;const t=s(fe);let n;try{n=null!==(e=s(ye))&&void 0!==e?e:{...Ce}}catch(e){n={...Ce}}return{...n,...t}}const Ce={variants:void 0,variantsConnection:void 0,options:void 0,selectedVariant:void 0,setSelectedVariant:NotAvailable("setSelectedVariant"),selectedOptions:void 0,setSelectedOption:NotAvailable("setSelectedOption"),setSelectedOptions:NotAvailable("setSelectedOptions"),isOptionInStock:void 0,setSelectedSellingPlan:NotAvailable("setSelectedSellingPlan"),selectedSellingPlan:void 0,selectedSellingPlanAllocation:void 0,sellingPlanGroups:void 0,sellingPlanGroupsConnection:void 0};function NotAvailable(e){return()=>{throw new Error(`The '${e}' function is not available in server components`)}}function ProductOptionsProvider({children:e,initialVariantId:n}){const r=useProduct();const o=useProductOptions({variants:r.variantsConnection,initialVariantId:n});return t.createElement(ye.Provider,{value:o},e)}function ProductProvider({children:e,data:n,initialVariantId:r}){const o=useParsedMetafields(n.metafields);const a=i((()=>({...n,metafields:o,metafieldsConnection:n.metafields,media:n.media?flattenConnection(n.media):void 0,mediaConnection:n.media,variants:n.variants?flattenConnection(n.variants):void 0,variantsConnection:n.variants,images:n.images?flattenConnection(n.images):void 0,imagesConnection:n.images,collections:n.collections?flattenConnection(n.collections):void 0,collectionsConnection:n.collections})),[o,n]);return t.createElement(fe.Provider,{value:a},t.createElement(ProductOptionsProvider,{initialVariantId:r},e))}function AddToCartButton(e){var n,o;const[a,i]=r(false);const{variantId:s,quantity:c=1,attributes:u,children:d,accessibleAddingToCartLabel:m,...p}=e;const{status:v,linesAdd:g}=useCart();const h=useProduct();const f=null!==(o=null!==s&&void 0!==s?s:null===(n=null===h||void 0===h?void 0:h.selectedVariant)||void 0===n?void 0:n.id)&&void 0!==o?o:"";const y=null===s||""===f||null===(null===h||void 0===h?void 0:h.selectedVariant)||a||p.disabled;l((()=>{a&&"idle"===v&&i(false)}),[v,a]);return t.createElement(t.Fragment,null,t.createElement("button",{...p,disabled:y,onClick:()=>{i(true);g([{quantity:c,merchandiseId:f,attributes:u}])}},d),m?t.createElement("p",{style:{position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"},role:"alert","aria-live":"assertive"},a?m:null):null)}function Money(e){const{data:n,as:r,...o}=e;const a=useMoney(n);const i=null!==r&&void 0!==r?r:"div";return t.createElement(i,{...o},a.localizedString)}function Metafield(e){var n;const{data:r,children:o,as:a,...i}=e;const{locale:s}=useShop();if(null==r.value){console.warn(`No metafield value for ${r}`);return null}switch(r.type){case"date":{const e=null!==a&&void 0!==a?a:"time";return t.createElement(e,{...i},r.value.toLocaleDateString(s))}case"date_time":{const e=null!==a&&void 0!==a?a:"time";return t.createElement(e,{...i},r.value.toLocaleString(s))}case"weight":case"dimension":case"volume":{const e=null!==a&&void 0!==a?a:"span";return t.createElement(e,{...i},getMeasurementAsString(r.value,s))}case"rating":{const e=null!==a&&void 0!==a?a:"span";return t.createElement(e,{...i},r.value.value)}case"single_line_text_field":{const e=null!==a&&void 0!==a?a:"span";return t.createElement(e,{...i,dangerouslySetInnerHTML:{__html:r.value}})}case"multi_line_text_field":{const e=null!==a&&void 0!==a?a:"div";return t.createElement(e,{...i,dangerouslySetInnerHTML:{__html:r.value.split("\n").join("<br/>")}})}case"url":return t.createElement("a",{href:r.value,...i},r.value);case"json":const e=null!==a&&void 0!==a?a:"span";return t.createElement(e,{...i},JSON.stringify(r.value));case"file_reference":if("MediaImage"===(null===(n=r.reference)||void 0===n?void 0:n.__typename)){const e=r.reference;return e.image?t.createElement(Image,{data:e.image,...i}):null}default:{const e=null!==a&&void 0!==a?a:"span";return t.createElement(e,{...i},r.value.toString())}}}const we=n(null);function CartLineProvider({children:e,line:n}){return t.createElement(we.Provider,{value:n},e)}function useCartLine(){const e=s(we);if(null==e)throw new Error("Expected a cart line context but none was found");return e}function CartLineImage(e){const n=useCartLine();const{options:r,...o}=e;return n.merchandise.image?t.createElement(Image,{...o,data:n.merchandise.image,options:r}):null}function CartLinePrice(e){const n=useCartLine();const{priceType:r="regular",...o}=e;const a="regular"===r?n.merchandise.priceV2:n.merchandise.compareAtPriceV2;return null==a?null:t.createElement(Money,{...o,data:{amount:""+parseFloat(a.amount)*n.quantity,currencyCode:a.currencyCode}})}function CartLineProductTitle(e){const n=useCartLine();const{as:r,...o}=e;const a=r||"span";return t.createElement(a,{...o},n.merchandise.product.title)}function CartLineQuantity(e){const n=useCartLine();const{as:r,...o}=e;const a=r||"span";return t.createElement(a,{...o},n.quantity)}function CartLineQuantityAdjustButton(e){const{status:n,linesRemove:r,linesUpdate:o}=useCart();const a=useCartLine();const{children:i,adjust:s,...c}=e;return t.createElement("button",{disabled:"idle"!==n,onClick:()=>{if("remove"===s){r([a.id]);return}const e="decrease"===s?a.quantity-1:a.quantity+1;e<=0?r([a.id]):o([{id:a.id,quantity:e}])},...c},i)}function CartLines(e){const{lines:n}=useCart();const{as:r,children:o,...a}=e;const i=null!==r&&void 0!==r?r:m;const s="ul"===i?"li":m;return t.createElement(i,{...a},n.map((e=>t.createElement(s,{key:e.id},t.createElement(CartLineProvider,{line:e},o)))))}function CartCheckoutButton(e){const[n,o]=r(false);const{status:a,checkoutUrl:i}=useCart();const{children:s,...c}=e;l((()=>{n&&i&&"idle"===a&&(window.location.href=i)}),[n,a,i]);return t.createElement("button",{...c,disabled:n||c.disabled,onClick:()=>o(true)},s)}const Se="https://cdn.shopify.com/shopifycloud/shop-js/v0.8/client.js";function ShopPayButton({variantIds:e,className:n,variantIdsAndQuantities:r}){const{storeDomain:o}=useShop();const a=useLoadScript(Se);let i;if(e&&r)throw new Error(be);if(e)i=e.reduce(((e,t)=>{const n=getIdFromGid(t);n&&e.push(n);return e}),[]);else{if(!r)throw new Error(Ee);i=r.reduce(((e,t)=>{var n;const r=getIdFromGid(null===t||void 0===t?void 0:t.id);r&&e.push(`${r}:${null!==(n=null===t||void 0===t?void 0:t.quantity)&&void 0!==n?n:1}`);return e}),[])}return t.createElement("div",{className:n,tabIndex:1},"done"===a&&t.createElement("shop-pay-button",{"store-url":`https://${o}`,variants:i.join(",")}))}function getIdFromGid(e){if(e)return e.split("/").pop()}const Ee='You must pass in either "variantIds" or "variantIdsAndQuantities" to ShopPayButton';const be="You must provide either a variantIds or variantIdsAndQuantities prop, but not both in the ShopPayButton component";function CartShopPayButton({className:e}){const{lines:n}=useCart();const r=i((()=>n.map((e=>({id:e.merchandise.id,quantity:e.quantity})))),[n]);return t.createElement(ShopPayButton,{className:e,variantIdsAndQuantities:r})}function CartEstimatedCost(e){const{estimatedCost:n}=useCart();const{amountType:r="total",children:o,...a}=e;let i;"total"==r?i=null===n||void 0===n?void 0:n.totalAmount:"subtotal"==r?i=null===n||void 0===n?void 0:n.subtotalAmount:"tax"==r?i=null===n||void 0===n?void 0:n.totalTaxAmount:"duty"==r&&(i=null===n||void 0===n?void 0:n.totalDutyAmount);return null==i?null:t.createElement(Money,{...a,data:i},o)}function ProductDescription(e){var n;const r=useProduct();if(null==r)throw new Error("Expected a ProductProvider context, but none was found");const o=null!==(n=e.as)&&void 0!==n?n:"div";return r.descriptionHtml?t.createElement(o,{dangerouslySetInnerHTML:{__html:r.descriptionHtml},...e}):null}function ProductTitle(e){const n=useProduct();if(null==n)throw new Error("Expected a ProductProvider context, but none was found");const{as:r,...o}=e;const a=r||"span";return n.title?t.createElement(a,{...o},n.title):null}function UnitPrice(e){const{data:n,measurement:r,as:o,...a}=e;if(!n){console.warn('No "data" prop was passed to <UnitPrice/>');return null}if(!r){console.warn('No "measurement" prop was passed to <UnitPrice/>');return null}const i=null!==o&&void 0!==o?o:"div";return t.createElement(i,{...a},t.createElement(Money,{data:n}),"/",r.referenceUnit)}function ProductPrice(e){var n,r,o,a,i,s,c;const l=useProduct();const{priceType:u="regular",variantId:d,valueType:m="min",...p}=e;if(null==l)throw new Error("Expected a ProductProvider context, but none was found");let v;let g;const h=d?null===(n=null===l||void 0===l?void 0:l.variants)||void 0===n?void 0:n.find((e=>(null===e||void 0===e?void 0:e.id)===d)):null;if("compareAt"===u)if(d&&h){if((null===(r=h.compareAtPriceV2)||void 0===r?void 0:r.amount)===(null===(o=h.priceV2)||void 0===o?void 0:o.amount))return null;v=h.compareAtPriceV2}else v="max"===m?null===(a=null===l||void 0===l?void 0:l.compareAtPriceRange)||void 0===a?void 0:a.maxVariantPrice:null===(i=null===l||void 0===l?void 0:l.compareAtPriceRange)||void 0===i?void 0:i.minVariantPrice;else if(d&&h){v=h.priceV2;if("unit"===m){v=h.unitPrice;g=h.unitPriceMeasurement}}else v="max"===m?null===(s=l.priceRange)||void 0===s?void 0:s.maxVariantPrice:null===(c=l.priceRange)||void 0===c?void 0:c.minVariantPrice;return v?g?t.createElement(UnitPrice,{...p,data:v,measurement:g}):t.createElement(Money,{...p,data:v}):null}function ProductMetafield(e){var n,r,o;const a=useProduct();if(null==a)throw new Error("Expected a ProductProvider context, but none was found");if(null==a.metafields){console.warn("No metafields available for product");return null}const{namespace:i,keyName:s,variantId:c,...l}=e;const u=c?flattenConnection(null!==(o=null===(r=null===(n=a.variants)||void 0===n?void 0:n.find((e=>(null===e||void 0===e?void 0:e.id)===c)))||void 0===r?void 0:r.metafields)&&void 0!==o?o:{}):a.metafields;const d=null===u||void 0===u?void 0:u.find((e=>e.namespace===i&&e.key===s));if(null===d||void 0===d){const e="does not have a value for metafield.";const t=c?"Variant":"Product";const n={variantId:c,ProductId:a.id,namespace:i,keyName:s};console.warn([t,e,...Object.entries(n).map((([e,t])=>`${e}: ${t}`))].join(" "));return null}return t.createElement(Metafield,{data:d,...l})}function BuyNowButton(e){const{createInstantCheckout:n,checkoutUrl:o}=useInstantCheckout();const[i,s]=r(false);const{quantity:c,variantId:u,attributes:d,children:m,...p}=e;l((()=>{o&&(window.location.href=o)}),[o]);const v=a((()=>{s(true);n({lines:[{quantity:null!==c&&void 0!==c?c:1,merchandiseId:u,attributes:d}]})}),[s,n,c,u,d]);return t.createElement("button",{disabled:null!==i&&void 0!==i?i:p.disabled,...p,onClick:v},m)}const Pe=n(null);function useLocalization(){const e=s(Pe);if(null==e)throw new Error("No Localization Context available");return e}function useCountry(){const e=useLocalization();return[e.country,e.setCountry]}const Ie=new b({});function Head({children:e,...n}){const r=useEnvContext((e=>e.ctx.head),Ie);return t.createElement(P,{...n,helmetData:r},e)}const Le=n({routeParams:{}});const RouteParamsProvider=({children:e,routeParams:n})=>t.createElement(Le.Provider,{value:{routeParams:n}},e);function useRouteParams(){const e=useEnvContext((e=>e.ctx.router),Le);return e.routeParams}function TitleSeo({title:e}){return e?t.createElement(Head,null,t.createElement("title",null,e),t.createElement("meta",{property:"og:title",content:e})):null}function DescriptionSeo({description:e}){return e?t.createElement(Head,null,t.createElement("meta",{name:"description",content:e}),t.createElement("meta",{property:"og:description",content:e})):null}function TwitterSeo({site:e,title:n,description:r}){return t.createElement(Head,null,t.createElement("meta",{name:"twitter:card",content:"summary_large_image"}),e&&t.createElement("meta",{name:"twitter:site",content:e}),n&&t.createElement("meta",{name:"twitter:title",content:n}),r&&t.createElement("meta",{name:"twitter:description",content:r}))}function DefaultPageSeo({title:e,description:n,url:r,titleTemplate:o,lang:a}){const{languageCode:i}=useShop();return t.createElement(t.Fragment,null,t.createElement(Head,{defaultTitle:null!==e&&void 0!==e?e:"",titleTemplate:null!==o&&void 0!==o?o:`%s - ${e}`},t.createElement("html",{lang:null!==a&&void 0!==a?a:i}),t.createElement("meta",{property:"og:type",content:"website"}),t.createElement("meta",{property:"og:site_name",content:null!==e&&void 0!==e?e:""}),t.createElement("meta",{property:"og:url",content:r})),t.createElement(TitleSeo,{title:e}),t.createElement(DescriptionSeo,{description:n}),t.createElement(TwitterSeo,{title:e,description:n}))}function HomePageSeo({title:e,description:n,url:r}){const o={"@context":"http://schema.org","@type":"Organization",name:e,url:r};const a={"@context":"http://schema.org","@type":"WebSite",name:e,url:r};return t.createElement(t.Fragment,null,t.createElement(Head,null,t.createElement("meta",{property:"og:url",content:r}),t.createElement("script",{type:"application/ld+json"},JSON.stringify(o)),t.createElement("script",{type:"application/ld+json"},JSON.stringify(a))),t.createElement(TitleSeo,{title:e}),n&&t.createElement(DescriptionSeo,{description:n}))}function ImageSeo({url:e,width:n,height:r,altText:o}){return t.createElement(Head,null,e&&t.createElement("meta",{property:"og:image",content:e}),e&&t.createElement("meta",{property:"og:image:secure_url",content:e}),n&&t.createElement("meta",{property:"og:image:width",content:`${n}`}),r&&t.createElement("meta",{property:"og:image:height",content:`${r}`}),o&&t.createElement("meta",{property:"og:image:alt",content:o}))}function ProductSeo({url:e,title:n,description:r,seo:o,vendor:a,featuredImage:i,variants:s}){var c,l,u;const d=null!==(c=null===o||void 0===o?void 0:o.title)&&void 0!==c?c:n;const m=null!==(l=null===o||void 0===o?void 0:o.description)&&void 0!==l?l:r;let p;const v={"@context":"http://schema.org/","@type":"Product",name:n,description:r,brand:{"@type":"Thing",name:a},url:e};i&&(v.image=i.url);if((null===s||void 0===s?void 0:s.edges)&&s.edges.length>0){const e=null===(u=s.edges[0])||void 0===u?void 0:u.node;p=null===e||void 0===e?void 0:e.priceV2;e&&e.sku&&(v.sku=e.sku);v.offers=s.edges.map((e=>{var t;const n=null===e||void 0===e?void 0:e.node;if(!n||!(null===(t=n.priceV2)||void 0===t?void 0:t.amount)||!n.priceV2.currencyCode)throw new Error("<ProductSeo/> requires variant.PriceV2 'amount' and 'currency");const r={"@type":"Offer",availability:"https://schema.org/"+(n.availableForSale?"InStock":"OutOfStock"),price:n.priceV2.amount,priceCurrency:n.priceV2.currencyCode};n.sku&&(r.sku=n.sku);n.image&&n.image.url&&(r.image=n.image.url);return r}))}return t.createElement(t.Fragment,null,t.createElement(Head,null,t.createElement("meta",{property:"og:type",content:"og:product"}),p&&t.createElement("meta",{property:"og:price:amount",content:`${p.amount}`}),p&&t.createElement("meta",{property:"og:price:currency",content:p.currencyCode}),t.createElement("script",{type:"application/ld+json"},JSON.stringify(v))),t.createElement(TitleSeo,{title:d}),t.createElement(DescriptionSeo,{description:m}),t.createElement(TwitterSeo,{title:d,description:m}),i&&t.createElement(ImageSeo,{...i}))}function CollectionSeo({title:e,description:n,seo:r,image:o}){var a,i;const s=null!==(a=null===r||void 0===r?void 0:r.title)&&void 0!==a?a:e;const c=null!==(i=null===r||void 0===r?void 0:r.description)&&void 0!==i?i:n;return t.createElement(t.Fragment,null,t.createElement(TitleSeo,{title:s}),t.createElement(DescriptionSeo,{description:c}),t.createElement(TwitterSeo,{title:s,description:c}),o&&t.createElement(ImageSeo,{...o}))}function PageSeo({title:e,seo:n}){var r;const o=null!==(r=null===n||void 0===n?void 0:n.title)&&void 0!==r?r:e;const a=null===n||void 0===n?void 0:n.description;return t.createElement(t.Fragment,null,t.createElement(TitleSeo,{title:o}),t.createElement(DescriptionSeo,{description:a}),t.createElement(TwitterSeo,{title:o,description:a}))}function Seo(e){const n=useUrl().href;switch(e.type){case"defaultSeo":return t.createElement(DefaultPageSeo,{...{url:n,...e.data}});case"homepage":return t.createElement(HomePageSeo,{...{url:n,...e.data}});case"product":return t.createElement(ProductSeo,{...{url:n,...e.data}});case"collection":return t.createElement(CollectionSeo,{...e.data});case"page":return t.createElement(PageSeo,{...e.data});default:console.warn("The <Seo/> only accepts type prop with values of defaultSeo, homepage, product, collection, or page.");return null}}const Ae={};const Fe=1e4;let Te=0;function compilePath(e,t){const n=`${t.end}${t.strict}${t.sensitive}`;const r=Ae[n]||(Ae[n]={});if(r[e])return r[e];const o=[];const a=I(e,o,t);const i={regexp:a,keys:o};if(Te<Fe){r[e]=i;Te++}return i}function matchPath(e,t={}){const{path:n,exact:r=false,strict:o=false,sensitive:a=false}=t;const i=[].concat(n);return i.reduce(((t,n)=>{if(!n&&""!==n)return null;if(t)return t;const{regexp:i,keys:s}=compilePath(n,{end:r,strict:o,sensitive:a});const c=i.exec(e);if(!c)return null;const[l,...u]=c;const d=e===l;return r&&!d?null:{path:n,url:"/"===n&&""===l?"/":l,isExact:d,params:s.reduce(((e,t,n)=>{e[t.name]=u[n];return e}),{})}}),null)}function FileRoutes({routes:e,basePath:n="/",dirPrefix:r="./routes"}){const o=useServerRequest();const{routeRendered:a,serverProps:s}=o.ctx.router;if(a)return null;const c=i((()=>createPageRoutes(e,n,r)),[e,n]);let l,u;for(let e=0;e<c.length;e++){u=matchPath(s.pathname,c[e]);if(u){l=c[e];break}}if(l){o.ctx.router.routeRendered=true;o.ctx.router.routeParams=u.params;return t.createElement(RouteParamsProvider,{routeParams:u.params},t.createElement(l.component,{params:u.params,...s}))}return null}function createPageRoutes(e,t="*",n){const r=t.replace("*","").replace(/\/$/,"");const o=Object.keys(e).map((t=>{let o=t.replace(n,"").replace(/\.server\.(t|j)sx?$/,"").replace(/\/index$/i,"/").replace(/\b[A-Z]/,(e=>e.toLowerCase())).replace(/\[(?:[.]{3})?(\w+?)\]/g,((e,t)=>`:${t}`));o.endsWith("/")&&"/"!==o&&(o=o.substring(0,o.length-1));const a=!/\[(?:[.]{3})(\w+?)\]/.test(t);e[t].default||e[t].api||(null===ce||void 0===ce?void 0:ce.warn(`${t} doesn't export a default React component or an API function`));return{path:r+o,component:e[t].default,exact:a}})).filter((e=>e.component));return[...o.filter((e=>!e.path.includes(":"))),...o.filter((e=>e.path.includes(":")))]}const xe="https://cdn.shopify.com/shopifycloud/boomerang/shopify-boomerang-hydrogen.min.js";function Boomerang({pageTemplate:e}){const{storeDomain:t}=useShop();const n=e&&null!==e?e.toLowerCase():"not-set";l((()=>{(function(){function boomerangAddVar(){window.BOOMR&&window.BOOMR.addVar&&window.BOOMR.addVar("page_template",n)}boomerangAddVar();if(!window.BOOMR||!window.BOOMR.version&&!window.BOOMR.snippetExecuted){window.BOOMR=window.BOOMR||{};window.BOOMR.storeDomain=t;window.BOOMR.pageTemplate=n;window.addEventListener?window.addEventListener("load",boomerangSaveLoadTime,false):window.attachEvent&&window.attachEvent("onload",boomerangSaveLoadTime);document.addEventListener?document.addEventListener("onBoomerangLoaded",boomerangInit):document.attachEvent&&document.attachEvent("onpropertychange",(function(e){e||(e=event);"onBoomerangLoaded"===e.propertyName&&boomerangInit(e)}))}function boomerangSaveLoadTime(e){window.BOOMR_onload=e&&e.timeStamp||Date.now()}function boomerangInit(e){e.detail.BOOMR.init({producer_url:"https://monorail-edge.shopifysvc.com/v1/produce"});e.detail.BOOMR.t_end=Date.now();boomerangAddVar()}})();loadScript(xe).catch((()=>{}))}),[t,e]);return null}function Route({path:e,page:n}){var r;const o=useServerRequest();const{routeRendered:a,serverProps:i}=o.ctx.router;if(a)return null;if("*"===e){o.ctx.router.routeRendered=true;return p(n,i)}const s=matchPath(i.pathname,{path:e,exact:true});if(s){o.ctx.router.routeRendered=true;o.ctx.router.routeParams=s.params;const e=null===(r=null===n||void 0===n?void 0:n.type)||void 0===r?void 0:r.name;useServerAnalytics({templateName:e});return t.createElement(RouteParamsProvider,{routeParams:s.params},p(n,{params:s.params||{},...i}),e?t.createElement(Boomerang,{pageTemplate:e}):null)}return null}function Router({children:e}){return t.createElement(BrowserRouter,null,e)}function LocalizationClientProvider({localization:e,children:n}){const{setServerProps:o}=useServerProps();const[s,c]=r(e.country);const l=a((e=>{c(e);o("country",e)}),[o]);const u=i((()=>({country:s,setCountry:l})),[s,l]);return t.createElement(Pe.Provider,{value:u},n)}function getConfig(){return globalThis.__config||{}}const Me=2e3;function injectGraphQLTracker({query:e,data:t,onUnusedData:n}){var r;const o=convertQueryToResolveInfo(e);const a=getFieldList(o.nodes,o.fragments);const i=[...new Set(a.map((e=>e.split(".").slice(0,-1).join("."))))].reverse();const s=(null===(r=findOperationDefinition(e).name)||void 0===r?void 0:r.value)||"";const c={};let l=false;const checkFields=(e=n)=>{l=true;const t=a.filter((e=>!c[e]&&!e.endsWith(".__typename"))).map((e=>e.replace(/\.edges\./g,".").replace(/\.node\./g,".")));if(t.length>0)return e({queryName:s,properties:t})};let u;i.forEach((e=>deepTransform(t,"data."+e,(t=>"object"!==typeof t||null===t?t:new Proxy(t,{get(t,r){if("string"===typeof r){const t=e+"."+r;if(!c[t]){c[t]=true;if(n&&!l){clearTimeout(u);u=setTimeout(checkFields,Me)}}}return t[r]}})))));return checkFields}function findOperationDefinition(e){return e.definitions.find((e=>"OperationDefinition"===e.kind))}function convertQueryToResolveInfo(e){var t;return{nodes:null===(t=findOperationDefinition(e))||void 0===t?void 0:t.selectionSet.selections,fragments:e.definitions.reduce(((e,t)=>{"FragmentDefinition"===t.kind&&(e[t.name.value]=t);return e}),{})}}
/**
 * Extracts the selection fields from a query AST as a list of dot-separated paths.
 * @param selectionNodes - Selection nodes from the AST
 * @param fragments - Fragments from the AST
 * @param path - Accummulated path for recursion
 * @returns A plain JS array representing the selection fields
 */function getFieldList(e,t={},n=""){return e.reduce(((e,r)=>{var o,a,i,s,c;let l=n;let u;if("FragmentSpread"===r.kind)u=t[r.name.value].selectionSet.selections;else if("InlineFragment"===r.kind)u=null===(o=r.selectionSet)||void 0===o?void 0:o.selections;else if("Field"===r.kind){u=null===(a=r.selectionSet)||void 0===a?void 0:a.selections;const t=null!==(s=null===(i=r.alias)||void 0===i?void 0:i.value)&&void 0!==s?s:null===(c=r.name)||void 0===c?void 0:c.value;l=n?`${n}.${t}`:t;u||e.push(l)}u&&e.push(...getFieldList(u,t,l));return e}),[])}
/**
 * Transform a nested property in a given object (in place).
 * @param input - Object to transform
 * @param path - Dot-separated path to the nested property
 * @param valueTransform - Transformer function
 */function deepTransform(e,t,n){const r=Array.isArray(t)?t:t.split(".");let o=e;let a;for(let e=0;!!o&&e<r.length;e++){a=r[e];if(e===r.length-1)o[a]=n(o[a]);else if(Array.isArray(o[a])){const t=r.slice(e+1);o[a].forEach((e=>deepTransform(e,t,n)))}o=o[a]}}function sendMessageToClient(e){const t=globalThis.__viteDevServer;t&&t.ws.send({type:"custom",event:"hydrogen",data:e})}function getContext(){return globalThis.__ctx}function getCache(){return globalThis.__cache}function runDelayedFunction(e){const t=getContext();return(null===t||void 0===t?void 0:t.waitUntil)?t.waitUntil(e()):e()}const ke="public";const Oe="private";const Re="no-store";const $e={maxAge:"max-age",staleWhileRevalidate:"stale-while-revalidate",sMaxAge:"s-maxage",staleIfError:"stale-if-error"};function generateCacheControlHeader(e){const t=[];Object.keys(e).forEach((n=>{"mode"===n?t.push(e[n]):$e[n]&&t.push(`${$e[n]}=${e[n]}`)}));return t.join(", ")}function NoStore(){return{mode:Re}}function guardExpirableModeType(e){if((null===e||void 0===e?void 0:e.mode)&&(null===e||void 0===e?void 0:e.mode)!==ke&&(null===e||void 0===e?void 0:e.mode)!==Oe)throw Error("'mode' must be either 'public' or 'private'")}function CacheSeconds(e){guardExpirableModeType(e);return{mode:ke,maxAge:1,staleWhileRevalidate:9,...e}}function CacheMinutes(e){guardExpirableModeType(e);return{mode:ke,maxAge:900,staleWhileRevalidate:900,...e}}function CacheHours(e){guardExpirableModeType(e);return{mode:ke,maxAge:1800,staleWhileRevalidate:1800,...e}}function CacheDays(e){guardExpirableModeType(e);return{mode:ke,maxAge:3600,staleWhileRevalidate:82800,...e}}function CacheWeeks(e){guardExpirableModeType(e);return{mode:ke,maxAge:604800,staleWhileRevalidate:604800,...e}}function CacheMonths(e){guardExpirableModeType(e);return{mode:ke,maxAge:1296e3,staleWhileRevalidate:1296e3,...e}}function CacheCustom(e){return e}function getCacheControlSetting(e,t){return e&&t?{...e,...t}:e||CacheSeconds()}function generateSubRequestCacheControlHeader(e){return generateCacheControlHeader(getCacheControlSetting(e))}function getKeyUrl(e){return`https://shopify.dev/?${e}`}async function getItemFromCache(e){const t=getCache();if(!t)return;const n=getKeyUrl(hashKey(e));const r=new Request(n);const o=await t.match(r);if(o){logCacheApiStatus("HIT",n);return[await o.json(),o]}logCacheApiStatus("MISS",n)}async function setItemInCache(e,t,n){const r=getCache();if(!r)return;const o=getKeyUrl(hashKey(e));const a=new Request(o);const i=getCacheControlSetting(n);const s=new Headers({"cache-control":generateSubRequestCacheControlHeader(getCacheControlSetting(i,{maxAge:(i.maxAge||0)+(i.staleWhileRevalidate||0)})),"cache-put-date":(new Date).toUTCString()});const c=new Response(JSON.stringify(t),{headers:s});logCacheApiStatus("PUT",o);await r.put(a,c)}async function deleteItemFromCache(e){const t=getCache();if(!t)return;const n=getKeyUrl(hashKey(e));const r=new Request(n);logCacheApiStatus("DELETE",n);await t.delete(r)}function isStale(e,t){const n=getCacheControlSetting(t).maxAge||0;const r=e.headers.get("cache-put-date");if(!r)return false;const o=(new Date).valueOf()-new Date(r).valueOf();const a=o/1e3;return a>n}function useQuery(e,t,n){const r=useServerRequest();const o=["__QUERY_CACHE_ID__",..."string"===typeof e?[e]:e];const a=cachedQueryFnBuilder(o,t,n);collectQueryTimings(r,o,"requested");(null===n||void 0===n?void 0:n.preload)&&r.savePreloadQuery({preload:null===n||void 0===n?void 0:n.preload,key:o,fetcher:a});return useRequestCacheData(o,a)}function cachedQueryFnBuilder(e,t,n){var r;const o={...null!==n&&void 0!==n?n:{}};const a=null!==(r=null===n||void 0===n?void 0:n.shouldCacheResponse)&&void 0!==r?r:()=>true;async function cachedQueryFn(){const n=useServerRequest();const r=getLoggerWithContext(n);const i=hashKey(e);const s=await getItemFromCache(e);async function generateNewOutput(){return await t()}if(s){const[t,c]=s;collectQueryCacheControlHeaders(n,e,c.headers.get("cache-control"));if(isStale(c,null===o||void 0===o?void 0:o.cache)){logCacheApiStatus("STALE",i);const t=`lock-${e}`;runDelayedFunction((async()=>{logCacheApiStatus("UPDATING",i);const n=await getItemFromCache(t);if(!n){await setItemInCache(t,true);try{const n=await generateNewOutput();a(n)&&await setItemInCache(e,n,null===o||void 0===o?void 0:o.cache)}catch(e){r.error(`Error generating async response: ${e.message}`)}finally{await deleteItemFromCache(t)}}}))}return t}const c=await generateNewOutput();a(c)&&runDelayedFunction((()=>setItemInCache(e,c,null===o||void 0===o?void 0:o.cache)));collectQueryCacheControlHeaders(n,e,generateSubRequestCacheControlHeader(null===o||void 0===o?void 0:o.cache));return c}return cachedQueryFn}function fetchSync(e,t){const{cache:n,preload:r,shouldCacheResponse:o,...a}=null!==t&&void 0!==t?t:{};const{data:i,error:s}=useQuery([e,a],(async()=>{const t=await globalThis.fetch(e,a);const n=await t.text();return[n,t]}),{cache:n,preload:r,shouldCacheResponse:o});if(s)throw s;const[c,l]=i;return{response:l,json:()=>JSON.parse(c),text:()=>c}}function getStorefrontApiRequestHeaders({buyerIp:e,storefrontToken:t}){var n;const r={};const o="undefined"!==typeof Oxygen?null===(n=null===Oxygen||void 0===Oxygen?void 0:Oxygen.env)||void 0===n?void 0:n[_]:null;o?r[D]=o:r[V]=t;e&&(r[N]=e);return r}const shouldCacheResponse=([e])=>{var t;return!(null===(t=JSON.parse(e))||void 0===t?void 0:t.errors)};function useShopQuery({query:e,variables:t={},cache:n,preload:r=false}){var o;if(!e)return{data:void 0,errors:void 0};if(!k)throw new Error("Shopify Storefront API requests should only be made from the server.");const a=useServerRequest();const i=getLoggerWithContext(a);const s=e?graphqlRequestBody(e,t):"";const{url:c,requestInit:l}=useCreateShopRequest(s);let u;let d;try{u=fetchSync(c,{...l,cache:n,preload:r,shouldCacheResponse:shouldCacheResponse}).json()}catch(e){if(null===e||void 0===e?void 0:e.then)throw e;d=e}if(d){const e=createErrorMessage(d);i.error(e);i.error(d);throw getConfig().dev?new Error(e):new Error("The fetch attempt failed; there was an issue connecting to the data source.")}if(null===u||void 0===u?void 0:u.errors){const e=Array.isArray(u.errors)?u.errors:[u.errors];for(const t of e){if(getConfig().dev)throw new Error(t.message);i.error("GraphQL Error",t)}i.error(`GraphQL errors: ${e.length}`)}if(__DEV__&&i.options().showUnusedQueryProperties&&e&&"string"!==typeof e&&(null===u||void 0===u?void 0:u.data)){const t=null===(o=new Error("").stack)||void 0===o?void 0:o.split("\n").find((e=>e.includes(".server.")));const[,n,r]=(null===t||void 0===t?void 0:t.match(/^\s*at (\w+) \(([^)]+)\)/))||[];injectGraphQLTracker({query:e,data:u,onUnusedData:({queryName:e,properties:t})=>{const o="Examine the list of fields above to confirm that they are being used.\n";const a="Potentially overfetching fields in GraphQL query.\n";let s=`Query \`${e}\``;r&&(s+=` in file \`${r}\` (function \`${n}\`)`);const c=6;const l=t.length>c+1;const u=l?t.slice(0,c):t;const d=l?`  ...and ${t.length-u.length} more\n`:"";const m=a+s+`:\n• ${u.join("\n• ")}\n`+d+o;i.warn(m);sendMessageToClient({type:"warn",data:m})}})}return u}function useCreateShopRequest(e){const{storeDomain:t,storefrontToken:n,storefrontApiVersion:r}=useShop();const o=useServerRequest();const a=o.getBuyerIp();const i=getStorefrontApiRequestHeaders({buyerIp:a,storefrontToken:n});return{key:[t,r,e],url:`https://${t}/api/${r}/graphql.json`,requestInit:{body:e,method:"POST",headers:{"X-SDK-Variant":"hydrogen","X-SDK-Version":r,"content-type":"application/json",...i}}}}function createErrorMessage(e){return e instanceof Response?"An error occurred while fetching from the Storefront API. "+(403===e.status?"You may have a bad value in 'shopify.config.js'":`${e.statusText}`):`Failed to connect to the Storefront API: ${e.message}`}function LocalizationProvider(e){const{languageCode:n}=useShop();const{data:{localization:r}}=useShopQuery({query:_e,variables:{language:n},cache:CacheDays(),preload:e.preload});return t.createElement(LocalizationClientProvider,{localization:r},e.children)}const _e="\nquery Localization($language: LanguageCode)\n@inContext(language: $language) {\n   localization {\n    country {\n      isoCode\n      name\n      currency {\n        isoCode\n      }\n    }\n  }\n}\n";const De="EN-US";function makeShopifyContext(e){var t,n;const r=null!==(t=e.defaultLocale)&&void 0!==t?t:De;const o=r.split(/[-_]/)[0];return{locale:r.toUpperCase(),languageCode:o.toUpperCase(),storeDomain:null===(n=null===e||void 0===e?void 0:e.storeDomain)||void 0===n?void 0:n.replace(/^https?:\/\//,""),storefrontToken:e.storefrontToken,storefrontApiVersion:e.storefrontApiVersion}}Symbol.for("SHOPIFY_PROVIDER_RSC");function ShopifyProvider({shopifyConfig:e,children:n}){if(!e)throw new Error("The `shopifyConfig` prop should be passed to `ShopifyProvider`");const r=i((()=>makeShopifyContext(e)),[e]);const o=useServerRequest();o.ctx.shopifyConfig=r;return t.createElement(ShopifyProviderClient,{shopifyConfig:r},n)}const useSession=function(){var e;const t=useServerRequest();const n=null===(e=t.ctx.session)||void 0===e?void 0:e.get();return n};const Ve=["mac","user_session_id"];class Cookie{constructor(e,t={}){Ve.includes(e)&&ce.warn(`Warning "${e}" is a reserved cookie name by oxygen!`);this.options=t;this.options={...this.options,expires:"undefined"!==typeof t.maxAge?new Date(Date.now()+1e3*t.maxAge):t.expires?t.expires:new Date(Date.now()+6048e5)};this.name=e;this.data={}}parse(e){try{const t=JSON.parse(L(e)[this.name]);this.data=t}catch(e){}return this.data}set(e,t){this.data[e]=t}setAll(e){this.data=e}serialize(){return A(this.name,JSON.stringify(this.data),this.options)}destroy(){this.data={};return A(this.name,"",{...this.options,expires:new Date(0)})}get expires(){return this.options.expires.getTime()}setSessionid(e){return this.set("sid",e)}getSessionId(e){const t=e.headers.get("cookie");return t?this.parse(t).sid:null}}const CookieSessionStorage=function(e,t){return function(){const n=new Cookie(e,t);let r=false;return{async get(e){if(!r){const t=e.headers.get("cookie");n.parse(t||"");r=true}return n.data},async set(e,t){n.setAll(t);return n.serialize()},async destroy(e){return n.destroy()}}}};const MemorySessionStorage=function(e,t){const n=new Map;return function(){const r=new Cookie(e,t);return{async get(e){const t=r.getSessionId(e);let o;if(t&&n.has(t)){const{expires:e,data:r}=n.get(t);if(e<(new Date).getTime()){n.delete(t);o={}}else o=r}else o={};return o},async set(e,t){let o=r.getSessionId(e);o||(o=F());n.set(o,{data:t,expires:r.expires});r.setSessionid(o);return r.serialize()},async destroy(e){const t=r.getSessionId(e);t&&n.delete(t);return r.destroy()}}}};export{AddToCartButton,BuyNowButton,CacheCustom,CacheDays,CacheHours,CacheMinutes,CacheMonths,CacheSeconds,CacheWeeks,CartCheckoutButton,CartEstimatedCost,CartLineImage,CartLinePrice,CartLineProductTitle,CartLineProvider,CartLineQuantity,CartLineQuantityAdjustButton,CartLines,CartProvider,oe as CartQuery,CartShopPayButton,Cookie,CookieSessionStorage,ExternalVideo,FileRoutes,Image,Q as Link,LocalizationProvider,MediaFile,MemorySessionStorage,Metafield,ModelViewer,Money,NoStore,ProductDescription,ProductMetafield,ProductPrice,ProductProvider,ProductTitle,Route,Router,Seo,x as ServerPropsContext,ServerPropsProvider,ShopPayButton,ShopifyProvider,Video,decodeShopifyId,fetchBuilder,fetchSync,flattenConnection,generateCacheControlHeader,getTime,graphqlRequestBody,isClient,ce as log,setLogger,setLoggerOptions,useCart,useCartLine,useCountry,useInstantCheckout,useLoadScript,useMeasurement,useMoney,useParsedMetafields,useProduct,useProductOptions,useQuery,useRouteParams,useServerAnalytics,useSession,useShop,useShopQuery,useUrl};

